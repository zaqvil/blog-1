(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{336:function(a,s,t){"use strict";t.r(s);var e=t(18),r=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"用ghost搭建你的博客"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用ghost搭建你的博客"}},[a._v("#")]),a._v(" 用Ghost搭建你的博客")]),a._v(" "),t("blockquote",[t("p",[a._v("本文为初学前端时所写，未进行勘误便移植了过来，若有错误请见谅。")])]),a._v(" "),t("h2",{attrs:{id:"ghost"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ghost"}},[a._v("#")]),a._v(" Ghost")]),a._v(" "),t("p",[a._v("Ghost是一个现代化的，开源的，基于Node.js的博客发布平台，它的前端管理系统基于Ember.js， 后端的模板引擎采用的handlebars， 而默认数据库是MySQL，当然，你也可以使用其他类型的数据库。")]),a._v(" "),t("h2",{attrs:{id:"ghost1-0"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ghost1-0"}},[a._v("#")]),a._v(" Ghost1.0")]),a._v(" "),t("p",[a._v("如果用过1.0版本以前的Ghost的同学，会对Ghost版本的更新感到头疼，而一些配置问题也让人心烦。")]),a._v(" "),t("p",[a._v("好在，就在一个月前，Ghost推出了Ghost1.0.0，并在一个月内升级到了1.6.2（到目前为止）")]),a._v(" "),t("p",[a._v("大版本的提升，主要是因为一个东西的出现，那就是Ghost-Cli。")]),a._v(" "),t("h2",{attrs:{id:"ghost-cli"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ghost-cli"}},[a._v("#")]),a._v(" Ghost-CLI")]),a._v(" "),t("p",[a._v("有了Ghost-Cli，你可以")]),a._v(" "),t("ul",[t("li",[a._v("快速安装Ghost")]),a._v(" "),t("li",[a._v("自动配置MySQL, Nginx , SSL等")]),a._v(" "),t("li",[a._v("快捷的更新版本（只用一行命令就可以）")]),a._v(" "),t("li",[a._v("其他等等")])]),a._v(" "),t("h2",{attrs:{id:"你需要先做些准备（官方推荐"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#你需要先做些准备（官方推荐"}},[a._v("#")]),a._v(" 你需要先做些准备（官方推荐")]),a._v(" "),t("ul",[t("li",[a._v("Ubuntu 16.04操作系统的服务器（官方只推荐这个操作系统")]),a._v(" "),t("li",[a._v("MySQL（默认")]),a._v(" "),t("li",[a._v("Nginx")]),a._v(" "),t("li",[a._v("Node")]),a._v(" "),t("li",[a._v("支持的版本： >= 4.5 < 5.*")]),a._v(" "),t("li",[a._v("推荐的版本： >= 6.9 < 7.*")]),a._v(" "),t("li",[a._v("将会被支持的版本： 8.* （Ghost 只支持LTS的Node，如目前的6， 将来的LTS")]),a._v(" "),t("li",[a._v("服务器至少1GB 内存（可以使用swap）")]),a._v(" "),t("li",[a._v("需要一个非root用户来执行"),t("code",[a._v("ghost")]),a._v("命令")])]),a._v(" "),t("h2",{attrs:{id:"follow-me"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#follow-me"}},[a._v("#")]),a._v(" Follow me")]),a._v(" "),t("h3",{attrs:{id:"_1gb内存？-你需要swap"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1gb内存？-你需要swap"}},[a._v("#")]),a._v(" 1GB内存？ 你需要Swap")]),a._v(" "),t("p",[a._v("你可以看"),t("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-16-04",target:"_blank",rel:"noopener noreferrer"}},[a._v("这个"),t("OutboundLink")],1),a._v("，或者在命令行中输入（官方推荐方法）")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$dd")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("if")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/dev/zero "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("of")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/var/swap "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("bs")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("1k "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("count")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("1024k\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$mkswap")]),a._v(" /var/swap\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$swapon")]),a._v(" /var/swap\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$echo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'/var/swap swap swap default 0 0'")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v(" /etc/fstab\n")])])]),t("h3",{attrs:{id:"用非root用户执行ghost命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用非root用户执行ghost命令"}},[a._v("#")]),a._v(" 用非root用户执行ghost命令")]),a._v(" "),t("p",[a._v("增加用户")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$adduser <user>\n")])])]),t("p",[a._v("给用户sudo权限")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$usermod -G sudo <user>\n")])])]),t("p",[a._v("切换到非root用户")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$su - <user>\n")])])]),t("h3",{attrs:{id:"用apt-get安装mysql和nginx以及node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用apt-get安装mysql和nginx以及node"}},[a._v("#")]),a._v(" 用apt-get安装MySQL和Nginx以及Node")]),a._v(" "),t("p",[a._v("如果你已经安装好这些东西，跳过就行")]),a._v(" "),t("p",[t("strong",[a._v("Update package lists")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$sudo apt-get update\n")])])]),t("p",[t("strong",[a._v("Upgrade installed packages")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$sudo apt-get upgrade\n")])])]),t("p",[t("strong",[a._v("Install NGINX")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$sudo apt-get install nginx\n")])])]),t("p",[t("strong",[a._v("Open Firewall for HTTP/HTTPS")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$sudo ufw allow 'Nginx Full'\n")])])]),t("p",[t("strong",[a._v("Install MySQL")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$sudo apt-get install mysql-server\n")])])]),t("p",[t("strong",[a._v("Add the NodeSource APT repository for Node 6")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$curl -sL https://deb.nodesource.com/setup_6.x | sudo -E bash\n")])])]),t("p",[t("strong",[a._v("install Node.js")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$sudo apt-get install -y nodejs\n")])])]),t("p",[a._v("安装Ghost-CLI")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$sudo npm i -g ghost-cli\n")])])]),t("p",[a._v("或者使用yarn(>= 0.23.x)")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$sudo yarn global add ghost-cli\n")])])]),t("p",[a._v("准备工作完成。")]),a._v(" "),t("h2",{attrs:{id:"安装ghost"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装ghost"}},[a._v("#")]),a._v(" 安装Ghost")]),a._v(" "),t("p",[a._v("新建一个文件夹")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$sudo mkdir -p /var/www/ghost\n")])])]),t("blockquote",[t("p",[a._v("！！安装在/root文件夹下就失败")])]),a._v(" "),t("p",[a._v("给这个文件夹你的用户的权限([user] 换成你的非root用户名)")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$sudo chown [user]:[user] /var/www/ghost\n")])])]),t("p",[a._v("切换到新文件夹里")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("$cd /var/www/ghost\n")])])]),t("p",[a._v("安装")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ghost install\n")])])]),t("p",[a._v("然后会蹦出一系列的问题，包括")]),a._v(" "),t("ul",[t("li",[a._v("域名")]),a._v(" "),t("li",[a._v("MySQL信息（localhost, 用户名，密码， 数据库名）")]),a._v(" "),t("li",[a._v("Nginx")]),a._v(" "),t("li",[a._v("SSL")]),a._v(" "),t("li",[a._v("其他")]),a._v(" "),t("li",[a._v("最后一步会提示你是否要启动服务")])]),a._v(" "),t("h2",{attrs:{id:"完成"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#完成"}},[a._v("#")]),a._v(" 完成")]),a._v(" "),t("p",[a._v("现在，你输入你的域名，应该就能成功的访问了。")]),a._v(" "),t("p",[a._v("输入")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("域名/ghost\n")])])]),t("p",[a._v("可以进入网站的后台系统，可以进行发布，更换主题等各种功能")]),a._v(" "),t("h2",{attrs:{id:"其他"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[a._v("#")]),a._v(" 其他")]),a._v(" "),t("p",[t("a",{attrs:{href:"https://docs.ghost.org/v1/docs/introduction",target:"_blank",rel:"noopener noreferrer"}},[a._v("官方文档"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("你可以使用ghost config来更改配置")]),a._v(" "),t("p",[a._v("你也可以用ghost start/stop/restart来管理你的应用")]),a._v(" "),t("p",[a._v("你也可以用ghost install 来更新你的应用")]),a._v(" "),t("p",[a._v("等等...")])])}),[],!1,null,null,null);s.default=r.exports}}]);